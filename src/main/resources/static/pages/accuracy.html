<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="accuracy.css">
  <title>Accuracy Page</title>

</head>

<body>
  <nav id="navbar">
    <a class="navButton" id="logo" href="../index.html">Light House</a>
    <a class="navButton" href="../index.html">HOME</a>
    <a class="navButton" href="about.html">ABOUT</a>
    <a class="navButton" href="settings.html">SETTINGS</a>
    <a class="navButton" href="accuracy.html">ACCURACY</a>
  </nav>

  <div>
    <button id="reload">
      reload data
    </button>

    <button onclick="confirmReset()">
      reset boxes
    </button>
  </div>

  <div id="info container">

    <!--
    <script>
      // receiving data
      // const data = ...
        
      const container = document.getElementById("info container");

      data.forEach(item => {
        const box = document.createElement("div");
        box.classList.add("box");
      })

    </script>
    -->
  </div>

  <div id="matchViewer">
    <div class="team"></div>
    <div class="team"></div>
    <div class="team"></div>
  </div>

  <script>
    var scouterEntry1 = {
      "MatchNumber": 1,
      "AllianceColor": "Red",
      "TeamNumber": 948
      // there will be more 
    }

    var scouterEntry2 = {
      "MatchNumber": 2,
      "AllianceColor": "Red",
      "TeamNumber": 9994
      // there will be more 
    }
    var scouterEntry3 = {
      "MatchNumber": 3,
      "AllianceColor": "Red",
      "TeamNumber": 2980
      // there will be more 
    }

    var match = [scouterEntry1, scouterEntry2, scouterEntry3]

    var matchViewer = document.getElementById("matchViewer")

    for (let i = 0; i < match.length; i++) {
      console.log(match[i])
      for (const [key, value] of Object.entries(match[i])) {
        matchViewer.children[i].innerHTML += "<div>" + key + ": </div>" + "<input type=\"text\" value=\"" + value + "\">";
        console.log(key + ": " + value);
      }
    }

  </script>

  <div id="topBoxesContainer"></div>

  <div id="matchBoxContainer">
    <button id="1" class="matchBox">
      <div class="matchInfoEntry match">Match #1</div>
      <div class="matchInfoEntry alliance">Red Alliance: 948, 9994, 2980</div>
      <div class="matchInfoEntry score">Score: 948</div>
      <div class="matchInfoEntry accuracy">Accuracy: 948%</div>
    </button>
    <button id="2" class="matchBox">
      <div class="matchInfoEntry match">Match #2</div>
      <div class="matchInfoEntry alliance">Red Alliance: 948, 9994, 2980</div>
      <div class="matchInfoEntry score">Score: 948</div>
      <div class="matchInfoEntry accuracy">Accuracy: 948%</div>
    </button>
    <button id="3" class="matchBox">
      <div class="matchInfoEntry match">Match #3</div>
      <div class="matchInfoEntry alliance">Red Alliance: 948, 9994, 2980</div>
      <div class="matchInfoEntry score">Score: 948</div>
      <div class="matchInfoEntry accuracy">Accuracy: 948%</div>
    </button>
  </div>

  <script>
    var matchBoxes = document.getElementsByClassName("matchBox");
    var topBoxesContainer = document.getElementById("topBoxesContainer");

    Array.from(matchBoxes).forEach((matchBox) => {
      matchBox.addEventListener("click", function () {
        if (this.classList.contains("clicked")) {
          this.classList.remove("clicked");

          var topBox = document.getElementById("topBox-" + this.id);
          if (topBox) {
            topBoxesContainer.removeChild(topBox);
          }
        }
        else {
          this.classList.add("clicked");

          var topBox = document.createElement("div");
          topBox.className = "topBox";
          topBox.id = "topBox-" + this.id;

          var matchInfo = this.getElementsByClassName("matchInfoEntry");
          for (let i = 0; i < matchInfo.length; i++) {
            let info = document.createElement("div");
            let br = document.createElement("br");
            info.innerText = matchInfo[i].innerText;
            topBox.appendChild(br);
            topBox.appendChild(info);
          }

          topBoxesContainer.appendChild(topBox);
        }
      });
    });

    function confirmReset() {
      const userConfirmation = confirm("Are you sure you want to reset the boxes?");
      if (userConfirmation) {
        location.reload();
      }
    }
  </script>

</body>


</html>